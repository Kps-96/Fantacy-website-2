<!DOCTYPE html>
<html lang="en">
<head>
    <title>Fantacy World</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="logo-of-fantacy.png">
    <!--Bootstrao css-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body>
    <div id="scroller">
        
        <div class="main">
            <video autoplay muted loop plays-inline class="video">
                <source src="Shippuden17.mp4.crdownload" type="video/mp4"> 
            </video>

            <div class="navbar" id="home">
                <nav class="navbar navbar-expand-md ">
                    <div class="container" id="navba">
                        <a class="navbar-brand n-items"  href="#">Fantacy World</a>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarNavDropdown">
                        <ul class="navbar-nav">
                            <li class="nav-item n-items">
                            <a class="nav-link active" aria-current="page" href="#home" >Home</a>
                            </li>
                            <li class="nav-item n-items">
                            <a class="nav-link" href="#page2l" >Videos</a>
                            </li>
                            <li class="nav-item n-items ">
                            <a class="nav-link" href="#page4" >Games</a>
                            </li>
                            <li class="nav-item n-items ">
                              <a class="nav-link" href="#page6" >Contact us</a>
                              </li>
                        </ul>
                        </div>
                    </div>
                    </nav>
            </div>

            <div class="content">
                <h1>Fantacy World</h1>
            </div>
        </div>

        <div id="otherpages">
        
                <selector class="container-fluid" id="page2">
                    <div id="page2l">
        
                           <img src="page2-image.jpg" alt="" id="image-page">
                        
                    </div>
                    <div id="page2r">
                        <div>
                            <video autoplay muted loop plays-inline>
                                <source src="all anime in one video.mp4">
                            </video>
                            <a href="https://zorox.to/" target="_blank"><input id="view-video" type="button" value="View video"></a>
                        </div>    
                    </div>
                    
                </selector>
                <selector class="container-fluid" id="page3">
                    
                    <div id="page3l">
                        <div>
                           <iframe src="https://zorox.to/" frameborder="0" id="iframe"></iframe>
                        </div>    
                    </div>
                    <div id="page3r">
                        <div>
                            <img src="all anime imge1.jpg" id="page2l-img" alt="all anime img">
                        </div>
                    </div>
                </selector>
                <selector class="container-fluid" id="page4">

                        <header>
                            <h5>Floppy Bird</h5>
                            <div class="score-container">
                            <div id="bestScore"></div>
                            <div id="currentScore"></div>
                            </div>
                            
                        </header>
                        
                        <canvas id="canvas" width="400" height="500px"></canvas>
                        <h1 id="page4-h1"><b><i>G<br>A<br>M<br>E<br>S</i></b></h1>
                </selector>
                <selector class="container-fluid" id="page5">

                    <div id="page5-f">
                    
                    </a><h1 style="padding-top: 30px;">Rock, Paper, Scissors</h1>
                      <div class="scoreboard">
                        <div class="player-score">Player: 0</div>
                        <div class="computer-score">Computer: 0</div>
                      </div>
                      <div class="choices">
                        <div class="choice" id="rock">
                          <i class="fas fa-hand-rock"><img src="s2.jpg" alt="stone image" style="width: 130px; height: 130px;"></i>
                        </div>
                        <div class="choice" id="paper">
                          <i class="fas fa-hand-paper"><img src="p1.jpg" alt="" style="width: 130px; height: 130px;"></i>
                        </div>
                        <div class="choice" id="scissors">
                          <i class="fas fa-hand-scissors"><img src="s1.jpg" alt="" style="width: 130px; height: 130px;"></i>
                        </div>
                      </div>
                      <div class="result" id="result">
                        <p>Choose your weapon!</p>
                      </div>
                      <div id="computer-choice"></div>
                      <div class="timer" id="timer">
                        <p>Time left: <span id="countdown">10</span>s</p>
                      </div>
                      <button class="play-again" id="play-again">Play Again</button>
                    </div>
                   
                   
                </selector>
                <selector class="container-fluid" id="page6">
                  <div>
                    <div class="page6-t">
                      <div id="last">
                        <div style="display: inline-block;">
                          <h2 style="color: rgba(255, 255, 255, 0.691); padding-left: 30px;"><i>Designed by </i></h2>
                          <h3  id="kps"><b><i>-Karuppasamy M</i></b></h3>
                        </div>
                        <div>
                          
                        </div>
                        
                      </div>
                    </div>
                    <div class="page6-b">
                      <div id="last-2">
                        <ul>
                          <a href="#"><li>Instagram</li></a>
                          <a href="#"><li>Facebook</li></a>
                          <a href="#"><li>linked In</li></a>
                          <a href="#"><li>git hub</li></a>
                          <a href="#"><li>Whatsapp</li></a>
                        </ul>

                      </div>
                    </div>
                    
                  </div>
                   
                  
                </selector>
        
        </div>
    </div>
   

    
    <!--Bootstrap js-->
    <script src="assert\bootstrap-5.3.2-dist\js\jquery.min.js"></script>
    <script src="assert\bootstrap-5.3.2-dist\js\bootstrap.min.js"></script>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const img = new Image();
        img.src = "https://i.ibb.co/Q9yv5Jk/flappy-bird-set.png";

        // general settings
        let gamePlaying = false;
        const gravity = .5;
        const speed = 6.2;
        const size = [51, 36];
        const jump = -11.5;
        const cTenth = (canvas.width / 10);

        let index = 0,
            bestScore = 0, 
            flight, 
            flyHeight, 
            currentScore, 
            pipe;

        // pipe settings
        const pipeWidth = 78;
        const pipeGap = 270;
        const pipeLoc = () => (Math.random() * ((canvas.height - (pipeGap + pipeWidth)) - pipeWidth)) + pipeWidth;

        const setup = () => {
        currentScore = 0;
        flight = jump;

        // set initial flyHeight (middle of screen - size of the bird)
        flyHeight = (canvas.height / 2) - (size[1] / 2);

        // setup first 3 pipes
        pipes = Array(3).fill().map((a, i) => [canvas.width + (i * (pipeGap + pipeWidth)), pipeLoc()]);
        }

        const render = () => {
        // make the pipe and bird moving 
        index++;

        // ctx.clearRect(0, 0, canvas.width, canvas.height);

        // background first part 
        ctx.drawImage(img, 0, 0, canvas.width, canvas.height, -((index * (speed / 2)) % canvas.width) + canvas.width, 0, canvas.width, canvas.height);
        // background second part
        ctx.drawImage(img, 0, 0, canvas.width, canvas.height, -(index * (speed / 2)) % canvas.width, 0, canvas.width, canvas.height);
        
        // pipe display
        if (gamePlaying){
            pipes.map(pipe => {
            // pipe moving
            pipe[0] -= speed;

            // top pipe
            ctx.drawImage(img, 432, 588 - pipe[1], pipeWidth, pipe[1], pipe[0], 0, pipeWidth, pipe[1]);
            // bottom pipe
            ctx.drawImage(img, 432 + pipeWidth, 108, pipeWidth, canvas.height - pipe[1] + pipeGap, pipe[0], pipe[1] + pipeGap, pipeWidth, canvas.height - pipe[1] + pipeGap);

            // give 1 point & create new pipe
            if(pipe[0] <= -pipeWidth){
                currentScore++;
                // check if it's the best score
                bestScore = Math.max(bestScore, currentScore);
                
                // remove & create new pipe
                pipes = [...pipes.slice(1), [pipes[pipes.length-1][0] + pipeGap + pipeWidth, pipeLoc()]];
                console.log(pipes);
            }
            
            // if hit the pipe, end
            if ([
                pipe[0] <= cTenth + size[0], 
                pipe[0] + pipeWidth >= cTenth, 
                pipe[1] > flyHeight || pipe[1] + pipeGap < flyHeight + size[1]
            ].every(elem => elem)) {
                gamePlaying = false;
                setup();
            }
            })
        }
        // draw bird
        if (gamePlaying) {
            ctx.drawImage(img, 432, Math.floor((index % 9) / 3) * size[1], ...size, cTenth, flyHeight, ...size);
            flight += gravity;
            flyHeight = Math.min(flyHeight + flight, canvas.height - size[1]);
        } else {
            ctx.drawImage(img, 432, Math.floor((index % 9) / 3) * size[1], ...size, ((canvas.width / 2) - size[0] / 2), flyHeight, ...size);
            flyHeight = (canvas.height / 2) - (size[1] / 2);
            // text accueil
            ctx.fillText(`Best score : ${bestScore}`, 85, 245);
            ctx.fillText('Click to play', 90, 535);
            ctx.font = "bold 30px courier";
        }

        document.getElementById('bestScore').innerHTML = `Best : ${bestScore}`;
        document.getElementById('currentScore').innerHTML = `Current : ${currentScore}`;

        // tell the browser to perform anim
        window.requestAnimationFrame(render);
        }

        // launch setup
        setup();
        img.onload = render;

        // start game
        document.addEventListener('click', () => gamePlaying = true);
        window.onclick = () => flight = jump;
    </script>
    
    <script>
        const choices = document.querySelectorAll('.choice');
const playerScoreElem = document.querySelector('.player-score');
const computerScoreElem = document.querySelector('.computer-score');
const resultElem = document.querySelector('#result');
const playAgainBtn = document.querySelector('#play-again');
const countdownElem = document.querySelector('#countdown');
const computerChoiceElem = document.querySelector('#computer-choice');

const weapons = ['rock', 'paper', 'scissors'];
let playerScore = 0;
let computerScore = 0;
let countdown = 10;
let timeout;

// Function to generate random weapon for computer
function computerPlay() {
  const weaponIndex = Math.floor(Math.random() * weapons.length);
  return weapons[weaponIndex];
}

// Function to update score and display result
function updateScore(playerWeapon, computerWeapon) {
  clearTimeout(timeout);
  if (playerWeapon) {
    computerChoiceElem.innerHTML = `Computer choose: ${computerWeapon}.`;
    if (playerWeapon === computerWeapon) {
      resultElem.innerHTML = "It's a tie!";
    } else if (
      (playerWeapon === 'rock' && computerWeapon === 'scissors') ||
      (playerWeapon === 'paper' && computerWeapon === 'rock') ||
      (playerWeapon === 'scissors' && computerWeapon === 'paper')
    ) {
      resultElem.innerHTML = 'You win!';
      playerScore++;
      playerScoreElem.innerHTML = `Player: ${playerScore}`;
    } else {
      resultElem.innerHTML = 'Computer wins!';
      computerScore++;
      computerScoreElem.innerHTML = `Computer: ${computerScore}`;
    }
    startTimer();
  } else {
    computerChoiceElem.innerHTML = `Game Over`;
    resultElem.innerHTML = 'You did not make a choice! | You lose the game!';
    resultElem.style.color = 'red';
    disableOptions();
  }

  if (playerScore === 5) {
    resultElem.textContent = 'You win the game!';
    resultElem.style.color = 'green';
    computerChoiceElem.innerHTML = 'Game Over';
    disableOptions();
    stopTimer();
  }

  if (computerScore === 5) {
    resultElem.textContent = 'You lose the game!';
    resultElem.style.color = 'red';
    computerChoiceElem.innerHTML = 'Game Over';
    disableOptions();
    stopTimer();
  }
}

// Function to handle player choice
function selectWeapon() {
  clearTimeout(timeout);
  countdownElem.innerHTML = '10';
  countdown = 10;
  const playerWeapon = this.id;
  const computerWeapon = computerPlay();
  updateScore(playerWeapon, computerWeapon);
}

// Function to start countdown timer
function startTimer() {
  countdown--;
  countdownElem.innerHTML = countdown;
  if (countdown === 0) {
    const computerWeapon = computerPlay();
    updateScore(null, computerWeapon);
  } else {
    timeout = setTimeout(startTimer, 1000);
  }
}

function stopTimer() {
  clearInterval(timeout);
  countdown = 10;
  countdownElem.textContent = countdown;
}

// Function to reset the game
function resetGame() {
  playerScore = 0;
  computerScore = 0;
  countdown = 10;
  playerScoreElem.innerHTML = 'Player: 0';
  computerScoreElem.innerHTML = 'Computer: 0';
  resultElem.innerHTML = 'Choose your weapon!';
  countdownElem.innerHTML = '10';
  resultElem.style.color = '#660033';
  computerChoiceElem.innerHTML = '';
  enableOptions();
  startTimer();
}

function disableOptions() {
  choices.forEach((choice) => {
    choice.style.pointerEvents = 'none';
  });
}

function enableOptions() {
  choices.forEach((choice) => {
    choice.style.pointerEvents = 'auto';
  });
}

// Event listeners
choices.forEach((choice) => choice.addEventListener('click', selectWeapon));
playAgainBtn.addEventListener('click', resetGame);

// Start countdown timer when page loads
countdownElem.innerHTML = countdown; // Set initial value of countdown in HTML
timeout = setTimeout(startTimer, 1000);
    </script>
</body>
</html>